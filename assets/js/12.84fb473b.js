(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{392:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("现如今，Iconfont已经是一个很基础的技术了。"),a("a",{attrs:{href:"https://www.iconfont.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Iconfont-阿里巴巴矢量图标库》"),a("OutboundLink")],1),t._v("用起来也很简单方便，相关的教程很容易就能搜到。作为一个甚至支持到IE6的技术，总是要解它的原理的。本文我将通过一个用到了Iconfont本质原理的实际需求，深入分析Iconfont。")]),t._v(" "),a("h2",{attrs:{id:"一个小需求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个小需求"}},[t._v("#")]),t._v(" 一个小需求")]),t._v(" "),a("p",[t._v("最近接到了一个需求，某个产品的价格调整了，需要调整宣传页展示的价格。打开页面，查看对应的位置后发现，果不其然，是一张图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bwzy064j20ax07hjsf.jpg",alt:"页面样式",title:"并不会很意外"}})]),t._v(" "),a("p",[t._v("需要改图上的价格，那必然得让设计师出马咯。但在要图的时候，设计师提了意见：")]),t._v(" "),a("blockquote",[a("p",[t._v("能改成可配置的吗？如果都是一张张图，后期维护起来很困难。")])]),t._v(" "),a("p",[t._v("说的很有道理，根本无法反驳。。而且和产品经理确认了一下，这个价格过一阵可能还得改，总这么一遍遍要图也很麻烦。那就改吧！于是，把这块重写成了这样：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bwzz3jbj209c0520sz.jpg",alt:"初步修改",title:"看起来哪里不太对..."}})]),t._v(" "),a("p",[t._v("这里价格用的是默认字体，已经加粗了，但还是和设计稿差很多。把效果图发给设计师，得到的回答是这样不行。但设计师给了解决方案：")]),t._v(" "),a("blockquote",[a("p",[t._v("我把数字单独给你切出来，你来排如何")])]),t._v(" "),a("p",[t._v("咦，好像可以！但无论直接用img嵌在页面里还是写一堆class=1、2、3……的div都太low了。有没有什么优雅的解决方案呢？icon font！或者说，直接生成一个只有数字0-9和¥符号的字体就可以了！万能的搜索引擎指引我找到了"),a("a",{attrs:{href:"https://icomoon.io/app/#/select",target:"_blank",rel:"noopener noreferrer"}},[t._v("icomoon"),a("OutboundLink")],1),t._v("这个网站。于是找设计师要到了对应数字和字符的svg图，导出成字体并用@font-face引入，再把数字div设置成相应的字体，最终页面长这样：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx0ggiaj20n405wgnk.jpg",alt:"最终样式",title:"很完美"}})]),t._v(" "),a("p",[t._v("设计师表示很满意。注意右边的dom结构，这表示以后维护价格的时候只修改数字就可以了。不仅方便，还更符合直觉。")]),t._v(" "),a("h2",{attrs:{id:"icomoon使用教学"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#icomoon使用教学"}},[t._v("#")]),t._v(" icomoon使用教学")]),t._v(" "),a("p",[t._v("上面的需求最关键的点就是生成字体。有了字体文件后，就可以通过这样的css代码来实现上面的效果：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 字体名称 */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'./font.eot'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 字体地址 */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 400"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".price-num")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" price"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("接下来就详细介绍一下如何使用icomoon生成字体")]),t._v(" "),a("p",[t._v("打开"),a("a",{attrs:{href:"https://icomoon.io/app/#/select",target:"_blank",rel:"noopener noreferrer"}},[t._v("icomoon"),a("OutboundLink")],1),t._v("，页面如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bx01vmsj211f0kx76j.jpg",alt:"icomoon页面",title:"icofont的功能页"}})]),t._v(" "),a("p",[t._v("点击右上角的Import Icons，选择想要上传的icon。前面提到了，只支持上传svg。上传成功后，可以在页面的顶部看到自己上传的svg：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx04fqjj211e0kxtay.jpg",alt:"图片上传完毕",title:"白底橙色边框表示选中"}})]),t._v(" "),a("p",[t._v("选中所有想导出的svg，点击右下角的Generate Font，跳转到编码页面：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx1.sinaimg.cn/mw690/c4d5907bly1gg7bx06z03j211e0kydi4.jpg",alt:"调整编码页面",title:"这个页面比较重要"}})]),t._v(" "),a("p",[t._v("这里就需要插入本篇文章的主题了：icon font的原理。网页上显示的字，本质上就是一个个图形。浏览器通过读取字符编码，寻找字库里对应编码的图形，把这个图形显示在页面上。icon font实际上就是生成一个包含icon的字体。有了字体就需要有编码，这样浏览器才能通过编码找到对应的图形并渲染出来。但这个编码值不能随便定义，如果使用了正常文字的编码区，比如给doge图编码为0，那么所有应用这个字体的元素，里面的0都会变成doge图。这样会影响页面的本义，所以icon font生成的字体一般使用e000-f8ff这段编码区，这段区域是unicode里BMP的私用区(Private Use Area)。在点击Get Code时，展示的就是如何让浏览器显示对应的编码：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx0bxzpj20fx0bdt9c.jpg",alt:"查看代码",title:"很简单的代码"}})]),t._v(" "),a("p",[t._v("这里的html和css很容易懂，一个class为icon-1的span，icon-1有一个伪元素，包含一个编码为e903的字符。这种使用方式是为了方便定义icon的大小。但因为需求是替换掉本来字体的0-9，所以这里需要把这里的编码改为0-9。修改对应右侧的空白符为0-9，这样就可以了：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx3.sinaimg.cn/mw690/c4d5907bly1gg7bx0bra1j20mn0d1dgj.jpg",alt:"修改编码",title:"但有哪里不太对…"}})]),t._v(" "),a("p",[t._v("这里的¥字符右下角标记了一个Multicolor，无法改成一个单一的字符。点击Get Code就能发现小秘密：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bx0eswrj20fx0gadhf.jpg",alt:"多颜色字的编码",title:"居然占用了三个字符"}})]),t._v(" "),a("p",[t._v("这里可以看出，这个图居然占用的三个字符。打开对应的svg文件，可以看到：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("svg")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("22px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("25px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("viewBox")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0 0 22 25"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("g")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("¥"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill-rule")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("nonzero"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#474747"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xlink:")]),t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#path-1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#FF6422"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xlink:")]),t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#path-1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("g")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("rect")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("矩形"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#FF6422"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1.609375"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("y")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("17.65625"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("18"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("rect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("svg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("这里用不同的颜色画了三条路径。把svg里所有的颜色改为同一种颜色，再次上传就没问题了。回头看上图的html代码，可以发现这里是把不同颜色的路径单独渲染成一个字符，通过不同字符的叠加来时间颜色的改变。所以当想要使用多颜色的icon时，需要注意可能会占用超过一个字符这个特点。点击右下角的下载，字体就生成好啦。打开下载的压缩包，里面贴心的放了demo.html和style.css，可以拿来参考。")]),t._v(" "),a("p",[t._v("但是打开压缩包里生成的css，发现事情好像并没有这么简单：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icomoon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'fonts/icomoon.eot?87qrfj'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'fonts/icomoon.eot?87qrfj#iefix'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'embedded-opentype'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'fonts/icomoon.ttf?87qrfj'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'truetype'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'fonts/icomoon.woff?87qrfj'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'woff'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'fonts/icomoon.svg?87qrfj#icomoon'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'svg'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("@font-face里的src有些复杂，都是什么意思呢？\n两个src这里比较容易理解，第一个src是为了保证在低版本浏览器中不支持多src属性值时的备用属性。但因为没有查到多src属性值的兼容性，所以这个兼容究竟是锦上添花还是画蛇添足需要再斟酌。第二个src就是为了兼容更多的浏览器，设置了四种字体。接下来简单介绍一下这四种字体格式：")]),t._v(" "),a("ul",[a("li",[t._v("eot: "),a("em",[t._v("IE")]),t._v(" 专用字体。在"),a("a",{attrs:{href:"https://caniuse.com/#search=%40font-face",target:"_blank",rel:"noopener noreferrer"}},[t._v("caniuse"),a("OutboundLink")],1),t._v("上可以看到，"),a("em",[t._v("IE 6-8")]),t._v(" 只支持eot格式的字体。但因为caniuse并不展示 "),a("em",[t._v("IE 6以下")]),t._v(" 版本IE的兼容性，其实在 "),a("em",[t._v("IE 4")]),t._v(" 中就可以用eot格式的字体设置@font-face了。")]),t._v(" "),a("li",[t._v("svg: "),a("em",[t._v("iOS Safari 3.2-4.1")]),t._v(" 只支持svg格式的字体。这是十年前的 "),a("em",[t._v("iOS Safari")]),t._v(" 版本，属于古董级的向下兼容了。")]),t._v(" "),a("li",[t._v("ttf: Windows和Mac中最常见的字体。ttf格式的字体无法压缩，所以体积会比较大。与之相对的，这个字体的兼容性会更好一些。\n除了上面提到的 "),a("em",[t._v("IE 6-8")]),t._v(" 和 "),a("em",[t._v("iOS Safari 3.2-4.1")]),t._v(" 不支持，也就只有老旧的 "),a("em",[t._v("Firefox 2-3")]),t._v("、"),a("em",[t._v("Android Browser 2.1")]),t._v("，及时代的眼泪 "),a("em",[t._v("Oprea Mini")]),t._v("。另外需要指出的是，"),a("em",[t._v("IE 9-11")]),t._v(" 需要添加installable属性才能支持这个字体格式。"),a("a",{attrs:{href:"https://caniuse.com/#search=ttf",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考链接"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("woff: Web字体中最佳格式。woff字体均经过woff的编码工具压缩，文件大小一般比ttf小40%。当然，兼容性就不如ttf了。比起ttf，woff不支持的浏览器除了 "),a("em",[t._v("IE 6-8")]),t._v("、"),a("em",[t._v("Oprea Mini")]),t._v("，还有 "),a("em",[t._v("Firefox 2-3.5")]),t._v("、"),a("em",[t._v("chrome 4以下")]),t._v("、"),a("em",[t._v("Safari 3.1-5")]),t._v("(Mac系统的Safari)、"),a("em",[t._v("Oprea 10.1以下")]),t._v("、"),a("em",[t._v("iOS Safari 3.2-4.3")]),t._v("、"),a("em",[t._v("Android Browser 2.1-4.3")]),t._v("。woff对 "),a("em",[t._v("IE 9-11")]),t._v(" 的支持并不需要添加额外的设置。woff的兼容行确实比ttf差了些，但前面标注的浏览器也基本都是些6、7年前的浏览器了，市场占有率不超过3%。"),a("a",{attrs:{href:"https://caniuse.com/#search=woff",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考链接"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("根据上面的分析，假如项目中不需要向下兼容到特别特别老的浏览器版本，其实可以把@font-face的src属性简化成：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icomoon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token url"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'fonts/icomoon.woff'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'woff'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-display")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这样其实已经可以兼容大部分的现代浏览器了。当然，如果有需要，可以按照上面分析的结论，引入相应的字体文件进行兼容。")]),t._v(" "),a("h2",{attrs:{id:"结尾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结尾"}},[t._v("#")]),t._v(" 结尾")]),t._v(" "),a("p",[t._v("本文主要介绍了icon font的使用方法和原理，如果还想了解更多可以看这篇"),a("a",{attrs:{href:"https://aotu.io/notes/2018/11/23/SVG_vs_Image_vs_iconfont/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SVG vs Image, SVG vs Iconfont"),a("OutboundLink")],1),t._v("，可以帮助你选择更适合你的应用场景的方案。如果你想深入了解@font-face规则，那么这篇"),a("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/2017/03/css3-font-face-src-local/",target:"_blank",rel:"noopener noreferrer"}},[t._v("真正了解CSS3背景下的@font face规则"),a("OutboundLink")],1),t._v("或许能帮到你。")])])}),[],!1,null,null,null);s.default=e.exports}}]);