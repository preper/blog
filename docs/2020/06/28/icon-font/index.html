<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>知其所以然——深入理解icon font | preper&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="现如今，Iconfont已经是一个很基础的技术了。本文将通过一个用到了Iconfont本质原理的实际需求，深入分析Iconfont。">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/blog/assets/css/0.styles.ae7fb01b.css" as="style"><link rel="preload" href="/blog/assets/js/app.a11d2450.js" as="script"><link rel="preload" href="/blog/assets/js/6.be256188.js" as="script"><link rel="preload" href="/blog/assets/js/3.49c9cfd2.js" as="script"><link rel="preload" href="/blog/assets/js/12.407bf5da.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3bcd65d3.js"><link rel="prefetch" href="/blog/assets/js/11.6256199e.js"><link rel="prefetch" href="/blog/assets/js/13.21d26f0b.js"><link rel="prefetch" href="/blog/assets/js/14.c9249d01.js"><link rel="prefetch" href="/blog/assets/js/15.4d189865.js"><link rel="prefetch" href="/blog/assets/js/4.d30dfed6.js"><link rel="prefetch" href="/blog/assets/js/5.ee9eb9d3.js"><link rel="prefetch" href="/blog/assets/js/7.59b8de0a.js"><link rel="prefetch" href="/blog/assets/js/8.3c23116e.js"><link rel="prefetch" href="/blog/assets/js/9.f95dc218.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.76ffdf64.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.ae7fb01b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">preper's Blog </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">preper's Blog </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        知其所以然——深入理解icon font
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">preper</span> <!----></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-06-28T00:00:00.000Z">
      Sun Jun 28 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/blog/tag/CSS" data-v-42ccfcd5><span data-v-42ccfcd5>CSS</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><p>现如今，Iconfont已经是一个很基础的技术了。<a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer">《Iconfont-阿里巴巴矢量图标库》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>用起来也很简单方便，相关的教程很容易就能搜到。作为一个甚至支持到IE6的技术，总是要解它的原理的。本文将通过一个用到了Iconfont本质原理的实际需求，深入分析Iconfont。</p> <h2 id="一个小需求"><a href="#一个小需求" class="header-anchor">#</a> 一个小需求</h2> <p>最近接到了一个需求，某个产品的价格调整了，需要调整宣传页展示的价格。打开页面，查看对应的位置后发现，果不其然，是一张图：</p> <p><img src="https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bwzy064j20ax07hjsf.jpg" alt="页面样式" title="并不会很意外"></p> <p>需要改图上的价格，那必然得让设计师出马咯。但在要图的时候，设计师提了意见：</p> <blockquote><p>能改成可配置的吗？如果都是一张张图，后期维护起来很困难。</p></blockquote> <p>说的很有道理，根本无法反驳。。而且和产品经理确认了一下，这个价格过一阵可能还得改，总这么一遍遍要图也很麻烦。那就改吧！于是，把这块重写成了这样：</p> <p><img src="https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bwzz3jbj209c0520sz.jpg" alt="初步修改" title="看起来哪里不太对..."></p> <p>这里价格用的是默认字体，已经加粗了，但还是和设计稿差很多。把效果图发给设计师，得到的回答是这样不行。但设计师给了解决方案：</p> <blockquote><p>我把数字单独给你切出来，你来排如何</p></blockquote> <p>咦，好像可以！但无论直接用img嵌在页面里还是写一堆class=1、2、3……的div都太low了。有没有什么优雅的解决方案呢？icon font！或者说，直接生成一个只有数字0-9和¥符号的字体就可以了！万能的搜索引擎指引我找到了<a href="https://icomoon.io/app/#/select" target="_blank" rel="noopener noreferrer">icomoon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>这个网站。于是找设计师要到了对应数字和字符的svg图，导出成字体并用@font-face引入，再把数字div设置成相应的字体，最终页面长这样：</p> <p><img src="https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx0ggiaj20n405wgnk.jpg" alt="最终样式" title="很完美"></p> <p>设计师表示很满意。注意右边的dom结构，这表示以后维护价格的时候只修改数字就可以了。不仅方便，还更符合直觉。</p> <h2 id="icomoon使用教学"><a href="#icomoon使用教学" class="header-anchor">#</a> icomoon使用教学</h2> <p>上面的需求最关键的点就是生成字体。有了字体文件后，就可以通过这样的css代码来实现上面的效果：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> price<span class="token punctuation">;</span> <span class="token comment">/* 字体名称 */</span>
  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'./font.eot'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span> <span class="token comment">/* 字体地址 */</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.price-num</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> price<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>接下来就详细介绍一下如何使用icomoon生成字体</p> <p>打开<a href="https://icomoon.io/app/#/select" target="_blank" rel="noopener noreferrer">icomoon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，页面如下：</p> <p><img src="https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bx01vmsj211f0kx76j.jpg" alt="icomoon页面" title="icofont的功能页"></p> <p>点击右上角的Import Icons，选择想要上传的icon。前面提到了，只支持上传svg。上传成功后，可以在页面的顶部看到自己上传的svg：</p> <p><img src="https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx04fqjj211e0kxtay.jpg" alt="图片上传完毕" title="白底橙色边框表示选中"></p> <p>选中所有想导出的svg，点击右下角的Generate Font，跳转到编码页面：</p> <p><img src="https://wx1.sinaimg.cn/mw690/c4d5907bly1gg7bx06z03j211e0kydi4.jpg" alt="调整编码页面" title="这个页面比较重要"></p> <p>这里就需要插入本篇文章的主题了：icon font的原理。网页上显示的字，本质上就是一个个图形。浏览器通过读取字符编码，寻找字库里对应编码的图形，把这个图形显示在页面上。icon font实际上就是生成一个包含icon的字体。有了字体就需要有编码，这样浏览器才能通过编码找到对应的图形并渲染出来。但这个编码值不能随便定义，如果使用了正常文字的编码区，比如给doge图编码为0，那么所有应用这个字体的元素，里面的0都会变成doge图。这样会影响页面的本义，所以icon font生成的字体一般使用e000-f8ff这段编码区，这段区域是unicode里BMP的私用区(Private Use Area)。在点击Get Code时，展示的就是如何让浏览器显示对应的编码：</p> <p><img src="https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx0bxzpj20fx0bdt9c.jpg" alt="查看代码" title="很简单的代码"></p> <p>这里的html和css很容易懂，一个class为icon-1的span，icon-1有一个伪元素，包含一个编码为e903的字符。这种使用方式是为了方便定义icon的大小。但因为需求是替换掉本来字体的0-9，所以这里需要把这里的编码改为0-9。修改对应右侧的空白符为0-9，这样就可以了：</p> <p><img src="https://wx3.sinaimg.cn/mw690/c4d5907bly1gg7bx0bra1j20mn0d1dgj.jpg" alt="修改编码" title="但有哪里不太对…"></p> <p>这里的¥字符右下角标记了一个Multicolor，无法改成一个单一的字符。点击Get Code就能发现小秘密：</p> <p><img src="https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bx0eswrj20fx0gadhf.jpg" alt="多颜色字的编码" title="居然占用了三个字符"></p> <p>这里可以看出，这个图居然占用的三个字符。打开对应的svg文件，可以看到：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>22px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>25px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0 0 22 25<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ... --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>¥<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill-rule</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nonzero<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#474747<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#path-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#FF6422<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#path-1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>矩形<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#FF6422<span class="token punctuation">&quot;</span></span> <span class="token attr-name">x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.609375<span class="token punctuation">&quot;</span></span> <span class="token attr-name">y</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>17.65625<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ... --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这里用不同的颜色画了三条路径。把svg里所有的颜色改为同一种颜色，再次上传就没问题了。回头看上图的html代码，可以发现这里是把不同颜色的路径单独渲染成一个字符，通过不同字符的叠加来时间颜色的改变。所以当想要使用多颜色的icon时，需要注意可能会占用超过一个字符这个特点。点击右下角的下载，字体就生成好啦。打开下载的压缩包，里面贴心的放了demo.html和style.css，可以拿来参考。</p> <p>但是打开压缩包里生成的css，发现事情好像并没有这么简单：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'icomoon'</span><span class="token punctuation">;</span>
  <span class="token property">src</span><span class="token punctuation">:</span>  <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'fonts/icomoon.eot?87qrfj'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
  <span class="token property">src</span><span class="token punctuation">:</span>  <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'fonts/icomoon.eot?87qrfj#iefix'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'embedded-opentype'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'fonts/icomoon.ttf?87qrfj'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'truetype'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'fonts/icomoon.woff?87qrfj'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'woff'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'fonts/icomoon.svg?87qrfj#icomoon'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>@font-face里的src有些复杂，都是什么意思呢？
两个src这里比较容易理解，第一个src是为了保证在低版本浏览器中不支持多src属性值时的备用属性。但因为没有查到多src属性值的兼容性，所以这个兼容究竟是锦上添花还是画蛇添足需要再斟酌。第二个src就是为了兼容更多的浏览器，设置了四种字体。接下来简单介绍一下这四种字体格式：</p> <ul><li>eot: <em>IE</em> 专用字体。在<a href="https://caniuse.com/#search=%40font-face" target="_blank" rel="noopener noreferrer">caniuse<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>上可以看到，<em>IE 6-8</em> 只支持eot格式的字体。但因为caniuse并不展示 <em>IE 6以下</em> 版本IE的兼容性，其实在 <em>IE 4</em> 中就可以用eot格式的字体设置@font-face了。</li> <li>svg: <em>iOS Safari 3.2-4.1</em> 只支持svg格式的字体。这是十年前的 <em>iOS Safari</em> 版本，属于古董级的向下兼容了。</li> <li>ttf: Windows和Mac中最常见的字体。ttf格式的字体无法压缩，所以体积会比较大。与之相对的，这个字体的兼容性会更好一些。
除了上面提到的 <em>IE 6-8</em> 和 <em>iOS Safari 3.2-4.1</em> 不支持，也就只有老旧的 <em>Firefox 2-3</em>、<em>Android Browser 2.1</em>，及时代的眼泪 <em>Oprea Mini</em>。另外需要指出的是，<em>IE 9-11</em> 需要添加installable属性才能支持这个字体格式。<a href="https://caniuse.com/#search=ttf" target="_blank" rel="noopener noreferrer">参考链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>woff: Web字体中最佳格式。woff字体均经过woff的编码工具压缩，文件大小一般比ttf小40%。当然，兼容性就不如ttf了。比起ttf，woff不支持的浏览器除了 <em>IE 6-8</em>、<em>Oprea Mini</em>，还有 <em>Firefox 2-3.5</em>、<em>chrome 4以下</em>、<em>Safari 3.1-5</em>(Mac系统的Safari)、<em>Oprea 10.1以下</em>、<em>iOS Safari 3.2-4.3</em>、<em>Android Browser 2.1-4.3</em>。woff对 <em>IE 9-11</em> 的支持并不需要添加额外的设置。woff的兼容行确实比ttf差了些，但前面标注的浏览器也基本都是些6、7年前的浏览器了，市场占有率不超过3%。<a href="https://caniuse.com/#search=woff" target="_blank" rel="noopener noreferrer">参考链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>根据上面的分析，假如项目中不需要向下兼容到特别特别老的浏览器版本，其实可以把@font-face的src属性简化成：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'icomoon'</span><span class="token punctuation">;</span>
  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'fonts/icomoon.woff'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'woff'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>这样其实已经可以兼容大部分的现代浏览器了。当然，如果有需要，可以按照上面分析的结论，引入相应的字体文件进行兼容。</p> <h2 id="结尾"><a href="#结尾" class="header-anchor">#</a> 结尾</h2> <p>本文主要介绍了icon font的使用方法和原理，如果还想了解更多可以看这篇<a href="https://aotu.io/notes/2018/11/23/SVG_vs_Image_vs_iconfont/index.html" target="_blank" rel="noopener noreferrer">SVG vs Image, SVG vs Iconfont<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，可以帮助你选择更适合你的应用场景的方案。如果你想深入了解@font-face规则，那么这篇<a href="https://www.zhangxinxu.com/wordpress/2017/03/css3-font-face-src-local/" target="_blank" rel="noopener noreferrer">真正了解CSS3背景下的@font face规则<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或许能帮到你。</p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#一个小需求" title="一个小需求">一个小需求</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#icomoon使用教学" title="icomoon使用教学">icomoon使用教学</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#结尾" title="结尾">结尾</a></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8><li class="contact-item" data-v-3d9deeb8><a href="https://github.com/preper" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-3d9deeb8><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-3d9deeb8></path></svg>
          
        </a></li><li class="contact-item" data-v-3d9deeb8><a href="mailto:qpreper@hotmail.com" class="nav-link external" data-v-3d9deeb8><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-3d9deeb8><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-3d9deeb8></path><polyline points="22,6 12,13 2,6" data-v-3d9deeb8></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8><li class="copyright-item" data-v-3d9deeb8><a href="https://github.com/preper" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-3d9deeb8>Copyright © 2020-present preper</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.a11d2450.js" defer></script><script src="/blog/assets/js/6.be256188.js" defer></script><script src="/blog/assets/js/3.49c9cfd2.js" defer></script><script src="/blog/assets/js/12.407bf5da.js" defer></script>
  </body>
</html>
