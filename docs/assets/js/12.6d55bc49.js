(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{289:function(t,s,a){"use strict";a.r(s);var n=a(5),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("现如今，icon font 已经是一个很基础的技术了。\n"),s("a",{attrs:{href:"https://www.iconfont.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Iconfont-阿里巴巴矢量图标库》"),s("OutboundLink")],1),t._v("用起来很简单方便，相关的教程很容易就能搜到。\n作为一个甚至支持到 IE6 的技术，总是要解它的原理的。本文将通过一个用到了 icon font 本质原理的实际需求，深入分析 Iconfont。")]),t._v(" "),s("h2",{attrs:{id:"一个小需求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一个小需求"}},[t._v("#")]),t._v(" 一个小需求")]),t._v(" "),s("p",[t._v("最近接到了一个需求，某个产品的价格调整了，需要调整宣传页展示的价格。打开页面，查看对应的位置后发现，果不其然，是一张图：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bwzy064j20ax07hjsf.jpg",alt:"页面样式",title:"并不会很意外"}})]),t._v(" "),s("p",[t._v("需要改图上的价格，那必然得让设计师出马咯。但在要图的时候，设计师提了意见：")]),t._v(" "),s("blockquote",[s("p",[t._v("能改成可配置的吗？如果都是一张张图，后期维护起来很困难。")])]),t._v(" "),s("p",[t._v("说的很有道理，根本无法反驳。。而且和产品经理确认了一下，这个价格过一阵可能还得改，总这么一遍遍要图也很麻烦。那就改吧！于是，把这块重写成了这样：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bwzz3jbj209c0520sz.jpg",alt:"初步修改",title:"看起来哪里不太对..."}})]),t._v(" "),s("p",[t._v("这里价格用的是默认字体，已经加粗了，但还是和设计稿差很多。把效果图发给设计师，得到的回答是这样不行。但设计师给了解决方案：")]),t._v(" "),s("blockquote",[s("p",[t._v("我把数字单独给你切出来，你来排如何？")])]),t._v(" "),s("p",[t._v("咦，好像可以！但无论直接用 img 嵌在页面里还是写一堆 class = 1、2、3…… 的 div 都太 low 了。\n有没有什么优雅的解决方案呢？iconfont！\n或者说，直接生成一个只有数字 0-9 和 ¥ 符号的字体就可以了！\n万能的搜索引擎指引我找到了"),s("a",{attrs:{href:"https://icomoon.io/app/#/select",target:"_blank",rel:"noopener noreferrer"}},[t._v("icomoon"),s("OutboundLink")],1),t._v("这个网站。\n于是找设计师要到了对应数字和字符的 svg 图，导出成字体并用 @font-face 引入，再把数字 div 设置成相应的字体，最终页面长这样：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx0ggiaj20n405wgnk.jpg",alt:"最终样式",title:"很完美"}})]),t._v(" "),s("p",[t._v("设计师表示很满意。注意右边的 dom 结构，这表示以后维护价格的时候只修改数字就可以了。不仅方便，还更符合直觉。")]),t._v(" "),s("h2",{attrs:{id:"icomoon使用教学"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#icomoon使用教学"}},[t._v("#")]),t._v(" icomoon使用教学")]),t._v(" "),s("p",[t._v("上面的需求最关键的点就是生成字体。有了字体文件后，就可以通过这样的 css 代码来实现上面的效果：")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 字体名称 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'./font.eot'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 字体地址 */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 400"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".price-num")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("接下来就详细介绍一下如何使用 icomoon 生成字体")]),t._v(" "),s("p",[t._v("打开"),s("a",{attrs:{href:"https://icomoon.io/app/#/select",target:"_blank",rel:"noopener noreferrer"}},[t._v("icomoon"),s("OutboundLink")],1),t._v("，页面如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bx01vmsj211f0kx76j.jpg",alt:"icomoon页面",title:"icofont的功能页"}})]),t._v(" "),s("p",[t._v("点击右上角的 Import Icons，选择想要上传的 icon。前面提到了，只支持上传 svg。上传成功后，可以在页面的顶部看到自己上传的 svg：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx04fqjj211e0kxtay.jpg",alt:"图片上传完毕",title:"白底橙色边框表示选中"}})]),t._v(" "),s("p",[t._v("选中所有想导出的 svg，点击右下角的 Generate Font，跳转到编码页面：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx1.sinaimg.cn/mw690/c4d5907bly1gg7bx06z03j211e0kydi4.jpg",alt:"调整编码页面",title:"这个页面比较重要"}})]),t._v(" "),s("p",[t._v("这里就需要插入本篇文章的主题了：icon font 的原理。\n网页上显示的字，本质上就是一个个图形。\n浏览器通过读取字符编码，寻找字库里对应编码的图形，把这个图形显示在页面上。\nicon font 实际上就是生成一个包含 icon 的字体。\n有了字体就需要有编码，这样浏览器才能通过编码找到对应的图形并渲染出来。\n但这个编码值不能随便定义，如果使用了正常文字的编码区。\n比如给 doge 图编码为 0，那么所有应用这个字体的元素，里面的 0 都会变成doge 图。\n这样会影响页面的本义，所以 icon font 生成的字体一般使用 e000-f8ff 这段编码区。\n这段区域是 unicode 里 BMP 的私用区（Private Use Area）。\n在点击 Get Code 时，展示的就是如何让浏览器显示对应的编码：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx4.sinaimg.cn/mw690/c4d5907bly1gg7bx0bxzpj20fx0bdt9c.jpg",alt:"查看代码",title:"很简单的代码"}})]),t._v(" "),s("p",[t._v("这里的 html 和 css 很容易懂，一个 class 为 icon-1 的 span，icon-1 有一个伪元素，包含一个编码为 e903 的字符。\n这种使用方式是为了方便定义 icon 的大小。\n但因为需求是替换掉本来字体的 0-9，所以这里需要把这里的编码改为 0-9。\n修改对应右侧的空白符为 0-9，这样就可以了：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx3.sinaimg.cn/mw690/c4d5907bly1gg7bx0bra1j20mn0d1dgj.jpg",alt:"修改编码",title:"但有哪里不太对…"}})]),t._v(" "),s("p",[t._v("这里的¥字符右下角标记了一个 Multicolor，无法改成一个单一的字符。点击 Get Code 就能发现小秘密：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://wx2.sinaimg.cn/mw690/c4d5907bly1gg7bx0eswrj20fx0gadhf.jpg",alt:"多颜色字的编码",title:"居然占用了三个字符"}})]),t._v(" "),s("p",[t._v("这里可以看出，这个图居然占用的三个字符。打开对应的 svg 文件，可以看到：")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("svg")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("22px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("25px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("viewBox")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("0 0 22 25"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("g")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("¥"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill-rule")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("nonzero"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#474747"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xlink:")]),t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#path-1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#FF6422"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xlink:")]),t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#path-1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("g")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("rect")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("矩形"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fill")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#FF6422"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("x")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1.609375"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("y")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("17.65625"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("18"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("rect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ... --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("svg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("这里用不同的颜色画了三条路径。\n把 svg 里所有的颜色改为同一种颜色，再次上传就没问题了。\n回头看上图的 html 代码，可以发现这里是把不同颜色的路径单独渲染成一个字符，通过不同字符的叠加来时间颜色的改变。\n所以当想要使用多颜色的 icon 时，需要注意可能会占用超过一个字符这个特点。\n点击右下角的下载，字体就生成好啦。\n打开下载的压缩包，里面贴心的放了 demo.html 和 style.css，可以拿来参考。")]),t._v(" "),s("p",[t._v("但是打开压缩包里生成的 css，发现事情好像并没有这么简单：")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icomoon'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'fonts/icomoon.eot?87qrfj'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'fonts/icomoon.eot?87qrfj#iefix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'embedded-opentype'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'fonts/icomoon.ttf?87qrfj'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'truetype'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'fonts/icomoon.woff?87qrfj'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'woff'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'fonts/icomoon.svg?87qrfj#icomoon'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'svg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("p",[t._v("@font-face 里的 src 有些复杂，都是什么意思呢？")]),t._v(" "),s("p",[t._v("两个 src 这里比较容易理解。\n第一个 src 是为了保证在低版本浏览器中不支持多 src 属性值时的备用属性。\n但因为没有查到多 src 属性值的兼容性，所以这个兼容究竟是锦上添花还是画蛇添足需要再斟酌。\n第二个 src 就是为了兼容更多的浏览器，设置了四种字体。接下来简单介绍一下这四种字体格式：")]),t._v(" "),s("ul",[s("li",[t._v("eot: "),s("strong",[t._v("IE")]),t._v(" 专用字体。\n在"),s("a",{attrs:{href:"https://caniuse.com/#search=%40font-face",target:"_blank",rel:"noopener noreferrer"}},[t._v("caniuse"),s("OutboundLink")],1),t._v("上可以看到，"),s("strong",[t._v("IE 6 - 8")]),t._v(" 只支持 eot 格式的字体。\n但因为caniuse并不展示 "),s("strong",[t._v("IE 6 以下")]),t._v("版本IE的兼容性，其实在 "),s("strong",[t._v("IE 4")]),t._v(" 中就可以用 eot 格式的字体设置 @font-face 了。")]),t._v(" "),s("li",[t._v("svg: "),s("strong",[t._v("iOS Safari 3.2 - 4.1")]),t._v(" 只支持 svg 格式的字体。\n这是十年前的 "),s("strong",[t._v("iOS Safari")]),t._v(" 版本，属于古董级的向下兼容了。")]),t._v(" "),s("li",[t._v("ttf: Windows 和 Mac 中最常见的字体。\nttf 格式的字体无法压缩，所以体积会比较大。\n与之相对的，这个字体的兼容性会更好一些。\n除了上面提到的 "),s("strong",[t._v("IE 6 - 8")]),t._v(" 和 "),s("strong",[t._v("iOS Safari 3.2 - 4.1")]),t._v(" 不支持，也就只有老旧的 "),s("strong",[t._v("Firefox 2 - 3")]),t._v("、"),s("strong",[t._v("Android Browser 2.1")]),t._v("，及时代的眼泪 "),s("strong",[t._v("Oprea Mini")]),t._v("。\n另外需要指出的是，"),s("strong",[t._v("IE 9 - 11")]),t._v(" 需要添加 installable 属性才能支持这个字体格式。\n"),s("a",{attrs:{href:"https://caniuse.com/#search=ttf",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考链接"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("woff: Web 字体中最佳格式。\nwoff 字体均经过 woff 的编码工具压缩，文件大小一般比 ttf 小 40%。\n当然，兼容性就不如 ttf 了。\n比起 ttf，不支持 woff 的浏览器除了 "),s("strong",[t._v("IE 6 - 8")]),t._v("、"),s("strong",[t._v("iOS Safari 3.2 - 4.3")]),t._v("、 "),s("strong",[t._v("Firefox 2 - 3.5")]),t._v("、"),s("strong",[t._v("Oprea Mini")]),t._v("，还有 "),s("strong",[t._v("chrome 4 以下")]),t._v("、"),s("strong",[t._v("Safari 3.1 - 5")]),t._v("（Mac 系统的 Safari）、"),s("strong",[t._v("Oprea 10.1 以下")]),t._v("、"),s("strong",[t._v("Android Browser 2.1 - 4.3")]),t._v("。\nwoff对 "),s("strong",[t._v("IE 9 - 11")]),t._v(" 的支持并不需要添加额外的设置。\nwoff 的兼容行确实比 ttf 差了些，但前面标注的浏览器也基本都是些 6、7 年前的浏览器了，市场占有率不超过 3%。\n"),s("a",{attrs:{href:"https://caniuse.com/#search=woff",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考链接"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("根据上面的分析，假如项目中不需要向下兼容到特别特别老的浏览器版本，其实可以把@font-face的src属性简化成：")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@font-face")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-family")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icomoon'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string url"}},[t._v("'fonts/icomoon.woff'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'woff'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("这样其实已经可以兼容大部分的现代浏览器了。\n当然，如果有需要，可以按照上面分析的结论，引入相应的字体文件进行兼容。")]),t._v(" "),s("h2",{attrs:{id:"结尾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结尾"}},[t._v("#")]),t._v(" 结尾")]),t._v(" "),s("p",[t._v("本文主要介绍了 icon font 的使用方法和原理。\n如果还想了解更多可以看这篇"),s("a",{attrs:{href:"https://aotu.io/notes/2018/11/23/SVG_vs_Image_vs_iconfont/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("SVG vs Image, SVG vs Iconfont"),s("OutboundLink")],1),t._v("，可以帮助你选择更适合你的应用场景的方案。\n如果你想深入了解@font-face规则，那么这篇"),s("a",{attrs:{href:"https://www.zhangxinxu.com/wordpress/2017/03/css3-font-face-src-local/",target:"_blank",rel:"noopener noreferrer"}},[t._v("真正了解CSS3背景下的@font face规则"),s("OutboundLink")],1),t._v("或许能帮到你。")])])}),[],!1,null,null,null);s.default=r.exports}}]);